# webpack, pug, sass フロントコーディングテンプレート

- pug対応
- _pugフォルダ以下のファイルは出力フォルダには出力しません。使用する場合は呼び出して使用してください。
- sass、postcss、nextcssに対応しています。prefixなどの付与は自動で行われます。var(--foo)などcss変数を自動で置き換えられます。
  - 時間があればstylusに修正予定
- _scssフォルダ以下はstyle.scss以外は出力しません。
- es6の記法は自動でコンパイルされます。
- js/libsフォルダ以下はコンパイルせずに出力されます。プラグインなどはここに格納してください。
- その他ファイルは配置したディレクトリにそって出力されます。pugはhtmlに、scssはcssに変換され出力されます。


# 開発環境
- node v8.11.3
- yarn v1.7.0
- webpack v4.29.6（JSバンドル用）

## install
```
$ yarn
```
## build
```
$ yarn build
```


# CSS設計はカスタムFLOCSS+SCSS
設計思想はFLOCSSをベースにRSCSSを組み合わせてカスタマイズしたものを採用しています。
CSSはSCSSを使用します。1つのコンポーネントごとに1つのscssファイルを必ず作成します。
※class名からどのscssファイルに記述されているのかがわかるように作成します。命名規則に関しては後述。
js用のクラスとcss用のクラスは完全に切り離します。
※js用のクラスをコピー&ペーストするだけで機能を完全に移植できるように設計します。


## SASSディレクトリ設計
```
_scss
∟ _foundation
∟ _layout
∟ _object
　∟ _component
　∟ _project
　∟ _utility
∟ _js
```

## 【foundation】
全体の設定系のscssファイルが格納されています。
再定義用ファイル、ベース設定用ファイル、変数やmixinの設定用ファイルなど。

## 【layout】
サイト全体のレイアウト関連のscssファイルを格納します。
Header、Footer、Nav等。
このフォルダに格納されているclassはl-というプレフィックスを設定します。

## 【object】
∟【component】

案件固有ではなく全ての案件を通して使用できるscssファイルを格納します。
カラムの設定等。
このフォルダに格納されているclassはc-というプレフィックスを設定します。

∟【project】

案件固有のscssファイルを格納します。
基本的にはこのフォルダ内を更新していきます。
このフォルダに格納されているclassはp-というプレフィックスを設定します。

∟【utility】

単一のscssファイルが格納されています。
 padding-topやmargin-topなどの設定。
イレギュラーなものに対して限定的に使用します。
このフォルダに格納されているclassはu-というプレフィックスを設定します。

【js】
js-から始まるclassはjsの機能用のclassのため基本的にはスタイルを持ちませんが、初期表示時はdisplay:none;にしたいやcursor:pointer;にするなどの限定的な使用のみ許容しています。
このフォルダに格納されているclassはjs-というプレフィックスを設定します。

# 命名ルール
## 基本ルール
接頭辞の後に用途に応じた単語を設定します。
```
例：
.l-header{}
.c-btn{}
.p-block{}
```
※アンダースコアやハイフンは1つ繋ぎに省略します。
2単語以上の場合はキャメルケースを採用しています。


子要素を設定する場合は必ず親要素の名称を継承します。
```
例：
.p-block{
  &_ttl{}
  &_list{}
}
```
※詳細度の上限は設定していませんが可能な限り詳細度を高くしないようにしています。


孫要素以下も子要素と同じく親要素の名前のみ継承する。
```
例：
.p-block{
  &_small{}
  &_mark{}
}
```
※p-block_ttl_smallというように全て引き継ぐような命名にはしていません。
親要素以下であればどこに配置しても使える柔軟性を持たせるためにこのような命名ルールにしています。
※孫要素を禁止しているわけではありません。特定の子要素以下でのみ使用可能な場合はアンダースコアによる繋ぎを使用しています。


バリエーション（モディファイア）
色違いやサイズ違い用のクラスは-（ハイフン）をプレフィックスとし、このクラス単体ではstyleを持ちません。
```
例：
.p-block{
  &.-small{}
  &.-reverse{}

  &_ttl{
    &.-red{}
  }
}
```

## その他
id、セレクタに対してスタイルを設定することは原則禁止にしています。
※imgタグに対してwidth:100%等かなり限定的な使い方のみ許容しています。

.is-（ステートクラス）.u-（ユーティリティクラス）.-（バリエーションクラス）.js-（JavaScriptクラス）以外のクラスが複数設定されるマルチクラスを原則禁止とします。
※パーツを抜き出して他の場所へコピー＆ペーストで使えるように設計しているため。また、他のクラスとのcssの衝突を回避する目的でもマルチクラスを禁止しています。
そのため、他のコンポーネントの小要素であることを前提としたコーディングは禁止しています。（一番上に当たる親要素がabsoluteを持っていたり、flexの子要素であることが前提のスタイルの付け方は禁止としています）
CSS部分に関しては以上になります。